<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title> Happy Valentine - B√© L·ª£n </title>
    <meta name="description" content="Happy Valentine's Day! A special gift for b√© L·ª£n ">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">
        <!-- Background sparkles layer -->
        <div id="sparkles"></div>

        <!-- Camera video (hidden) -->
        <video id="camera" autoplay playsinline></video>

        <!-- Main canvas for heart particles -->
        <canvas id="heartCanvas"></canvas>

        <!-- Text overlay -->
        <div id="textOverlay">
            <h1 class="title">Happy Valentine</h1>
            <p class="subtitle"> B√© L·ª£n Minh T√¢m</p>
        </div>

        <!-- Camera status indicator -->
        <div id="cameraStatus">
            <span id="cameraIcon">üì∑</span>
            <span id="cameraText">ƒêang k·∫øt n·ªëi camera...</span>
        </div>

        <!-- Hand instruction -->
        <div id="handInstruction">
            ‚úã M·ªü / n·∫Øm b√†n tay ƒë·ªÉ ƒëi·ªÅu khi·ªÉn tr√°i tim
        </div>

        <!-- Click counter -->
        <div id="clickCounter" class="click-counter"></div>

        <!-- Tap instruction -->
        <div id="tapInstruction">

            üíñ Ch·∫°m 3 l·∫ßn v√†o tr√°i tim ƒë·ªÉ m·ªü kh√≥a b·∫•t ng·ªù
        </div>
    </div>

    <!-- üíå Love Letter Overlay -->
    <div id="letterOverlay" class="letter-overlay hidden">
        <div class="letter-falling-hearts" id="letterHearts"></div>
        <div class="letter-container">
            <div class="letter-envelope" id="letterEnvelope">
                <div class="envelope-flap"></div>
                <div class="envelope-body">
                    <span class="envelope-heart">üíå</span>
                    <p class="envelope-text"> M·ªôt l√° th∆∞ cho b√© L·ª£n...</p>
                </div>
            </div>
            <div class="letter-paper" id="letterPaper">
                <div class="letter-content" id="letterContent">
                    <p class="letter-greeting"> Dear b√© L·ª£n Minh T√¢m ƒë√°ng iu nh·∫•t qu·∫£ ƒë·∫•t,</p>
                    <br>
                    <p class="letter-body">C·∫£m ∆°n em b√© nhi·ªÅu v√¨ ƒë√£ b∆∞·ªõc v√†o cu·ªôc ƒë·ªùi anh nhe. Y√™u em b√© nhi·ªÅu l·∫Øm. M·∫∑c
                        d√π valentine n√†y anh hem ƒë∆∞·ª£c g·∫ßn b√©, m√¨nh hem ƒë∆∞·ª£c c√πng nhau ƒë√≥n L·ªÖ nh∆∞ng m√† c√≥ g√¨ sau T·∫øt anh
                        ch·ªü b√© ƒëi b√π nhen. Anh y√™u b√© nhi·ªÅu l·∫Øm, mu·ªën ·ªü b√™n b√© nhi·ªÅu nhi·ªÅu ƒë·ªÉ y√™u th∆∞∆°ng b√© hihi. Anh
                        mong l√† d√π th·∫ø n√†o, anh c√≥ th·ªÉ c√πng b√© s·ª≠a l·ªói v√† c√πng n·∫Øm tay b√© ƒëi ti·∫øp ti·∫øp ƒë·∫øn c√πng nhen.
                        Y√™u th∆∞∆°ng b√© nhi·ªÅu.</p>
                    <br>
                    <p class="letter-closing"> Happy valentine c·ª•c d√†ng. üíñ</p>
                    <br>
                    <div class="letter-signature">
                        <span class="signature-heart">‚ù§Ô∏è</span>
                        <span class="signature-text"> T·ª´ ng∆∞·ªùi y√™u b√© L·ª£n</span>
                    </div>
                </div>
                <div class="letter-tap-hint" id="letterTapHint">
                    <span> B√© ∆°i ch·∫°m v√†o ƒë√¢y n√® n√® </span>
                </div>
            </div>
        </div>
    </div>

    <!-- üíç Ring Box Overlay -->
    <div id="ringOverlay" class="ring-overlay hidden">
        <div class="ring-sparkles" id="ringSparkles"></div>
        <div class="ring-box-container">
            <div class="ring-box" id="ringBox">
                <div class="ring-box-lid" id="ringBoxLid">
                    <div class="lid-top"></div>
                </div>
                <div class="ring-box-base">
                    <div class="ring-cushion">
                        <div class="ring">
                            <!-- Diamond with prongs -->
                            <div class="diamond-setting">
                                <div class="prong prong-1"></div>
                                <div class="prong prong-2"></div>
                                <div class="prong prong-3"></div>
                                <div class="prong prong-4"></div>
                                <div class="prong prong-5"></div>
                                <div class="prong prong-6"></div>
                                <div class="diamond-stone">
                                    <div class="diamond-facet facet-top"></div>
                                    <div class="diamond-facet facet-left"></div>
                                    <div class="diamond-facet facet-right"></div>
                                    <div class="diamond-sparkle-dot s1"></div>
                                    <div class="diamond-sparkle-dot s2"></div>
                                    <div class="diamond-sparkle-dot s3"></div>
                                </div>
                            </div>
                            <!-- Gold band -->
                            <div class="ring-band-gold">
                                <div class="band-highlight"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="proposal-text" id="proposalText">
                <h2 class="proposal-question">Will you be my Valentine? üíñ</h2>
                <div class="proposal-buttons">
                    <button class="proposal-btn yes-btn" id="yesBtn">Yes! </button>
                    <button class="proposal-btn no-btn" id="noBtn"> Oh no...</button>
                </div>
            </div>
        </div>
    </div>

    <!-- üì∏ Photo Capture Overlay -->
    <div id="photoOverlay" class="photo-overlay hidden">
        <div class="photo-sparkles-bg" id="photoSparklesBg"></div>
        <div class="photo-capture-container">
            <h2 class="photo-title">üì∏ Ch·ª•p ·∫£nh c√πng chi·∫øc nh·∫´n n√†o!</h2>
            <p class="photo-subtitle">Ch·ª•p selfie ho·∫∑c ch·ªçn ·∫£nh t·ª´ th∆∞ vi·ªán nhe b√© </p>
            <div class="camera-preview-wrapper">
                <video id="selfieCamera" autoplay playsinline class="selfie-camera"></video>
                <canvas id="selfieCanvas" class="selfie-canvas"></canvas>
                <img id="previewImage" class="preview-image hidden" alt="Preview">
            </div>
            <div class="photo-buttons">
                <button class="photo-btn snap-btn" id="snapBtn">üì∏ Ch·ª•p!</button>
                <label class="photo-btn upload-btn" id="uploadBtn">
                    üìÅ Ch·ªçn ·∫£nh
                    <input type="file" accept="image/*" id="fileInput" style="display:none">
                </label>
            </div>
            <button class="photo-btn confirm-btn hidden" id="confirmPhotoBtn"> D√πng ·∫£nh n√†y </button>
            <button class="photo-btn retake-btn hidden" id="retakeBtn"> Thui ch·ª•p l·∫°i</button>
        </div>
    </div>

    <!-- üíñ Heart Photo Display Overlay -->
    <div id="heartPhotoOverlay" class="heart-photo-overlay hidden">
        <div class="heart-photo-bg-sparkles" id="heartPhotoBgSparkles"></div>
        <div class="heart-photo-center">
            <div class="big-heart-container">
                <div class="big-heart-shape">
                    <img id="heartPhotoImg" class="heart-photo-img" alt="B√© L·ª£n üíñ">
                </div>
                <div class="orbiting-hearts" id="orbitingHearts"></div>
            </div>
            <p class="heart-photo-caption">B√© L·ª£n Valentine üíñ </p>
        </div>
    </div>

    <!-- üéµ Background Music (hidden YouTube iframe) -->
    <div id="musicPlayer"
        style="position:fixed;top:-9999px;left:-9999px;width:1px;height:1px;overflow:hidden;pointer-events:none;">
    </div>

    <!-- MediaPipe Hands -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

    <script src="script.js"></script>
</body>

</html>